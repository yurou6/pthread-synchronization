# pthread-synchronization

【疫苗啊疫苗！】風之塔學院資工系透過了大數據的計算，研發出非常有效的疫苗，並且有自動注射機
器人來進行注射。但是這個**疫苗需要注射三次**，才能發揮最好的效果。
為了同學的健康，即日起，每天開始可以為同學施打疫苗。但因為疫苗產量有限，**每天最多只能有20位**
同學進行疫苗施打。在注射機器人的辦公室裡，會有一張椅子讓同學坐著施打疫苗。辦公室外面的走廊
上有三把椅子，可以讓同學在那裡坐著等待。如果注射機器人目前正在為一名學生施打疫苗，其他到達
的學生就坐在辦公室外面的椅子等待。如果在辦公時間內都沒有學生需要施打疫苗，注射機器人就暫時
休眠節省電力。當學生在辦公時間內到達並發現注射機器人正在睡覺，就喚醒注射機器人以施打疫苗。
如果某個學生到達時，發現走廊上的椅子也都坐滿，就先離開一下，稍後再回來排隊。
現在有10~20位同學，要來施打疫苗。因此為了要事先了解施打疫苗的情況，你要設計一個程式，利用
pthreads（不含main thread）來模擬這個注射機器人以及這n位學生互動的情況。注射機器人以及n位學生
都個別用單獨的執行緒來運作，每個執行緒都只能代表一個人。以下是模擬的條件：
1. n 是從命令列讀入一個10-20的整數。並且讀入一個 0-100的整數亂數種子。
2. 每個同學第一次施打疫苗之前要等候一段0-10秒的時間才去排隊。這段時間是由亂數決定。注射完疫
苗後，下一次會有10-30秒的時間間隔再去排隊施打疫苗，這個時間間隔也是亂數決定。
3. 機器人每次為學生施打疫苗的時間是 2 秒。
4. 如果沒有位子可以坐著等候，學生離開5-10秒鐘再回來重新排隊。由亂數決定。
5. 在走廊排隊等候的，採用 FCFS 的規則，不可以插隊。
6. 每位學生都施打完三次疫苗後以後，就結束當天的疫苗施打，程式結束。
7. 機器人與每個學生都必須各別用一個thread來模擬。學生的編號從1開始。
在程式進行中，請將機器人與學生的狀態都要詳細輸出，以便檢查。同時要印出時間(Wall-clock time)，
至少是以秒為單位。例如假設程式開始執行模擬的時間是09:10:00，有20位同學，下面是可能的輸出：
> prog3 20 0

> 09:10:00 Robot: Sleep

> 09:10:06 Student01: Entering to get a shot

> 09:10:06 Student03: Sitting #1

> 09:10:06 Student04: Sitting #2

> 09:10:08 Student01: Leaving to write YZU CS305 programs

> 09:10:08 Student03: Entering to get a shot

> …

> 09:30:06 Robot: All 20 students receive vaccines.

設計理念

機器人呈現睡眠狀態，直到有同學進入辦公室施打疫苗，若有同學想施打疫苗，且辦公室沒人可直接進去並施打，之打完離開辦公室後，需等待十到三十秒再回來排隊，但若機器人辦公室已經有同學正在施打，此同學可在辦公室外的等候位置等待，如果三個位子都已經有人，此同學就必須再等五到十秒，再回來排隊，直到所有同學都施打三次才得以結束。
